<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>SirBrams Tech Virtual Campus</title>

    <style>
        #title{
           color: #B0B0B0;
            font-weight: bolder;
            font-size: 20px;
            margin-left: 1px;
        }
        #title:hover{
            color: white;

        }
        html {
                scroll-behavior: smooth;
        }

         .login-dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-options {
            display: none;
            position: absolute;
            top: 100%; /* Position below the button */
            left: 0;
            z-index: 1; /* Make sure it appears above other content */
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
        }

        .dropdown-options a {
            display: block;
            padding: 8px 12px;
            color: #333;
            text-decoration: none;
            border-radius: 5px;
            margin: 2px 0;
        }

        /* Show the dropdown when hovering over the parent button */
        .login-dropdown:hover .dropdown-options {
            display: block;
        }

        /* Add a hover effect for each option */
        .dropdown-options a:hover {
            background-color: #007bff;
            color: white;
        }
           #current-time {
            position: absolute;
            top: 40px;
            right: 20px;
            font-size: 16px;
            font-weight: bold;
            background-color: black;
        }
        /* Flex container to center the profile image and username text */
.dropdown {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
}

.profile-pic {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    object-fit: cover;
}

.profile-text {
    margin-top: 5px;
    font-size: 14px;
    color: white;
    text-align: center; /* Ensure the text is centered */
}
  .dropdown-menu{

  }


    </style>
{% load static %}
  <!-- Favicons -->
  <link href="{% static 'assets/img/logo.png' %}" rel="icon">
  <link href="{% static 'assets/img/apple-touch-icon.png' %}" rel="apple-touch-icon">
   <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&family=Poppins:wght@100;200;300;400;500;600;700;800;900&family=Raleway:wght@100;200;300;400;500;600;700;800;900&display=swap">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href=" https://fonts.gstatic.com " rel="preconnect' %}" crossorigin>

  <!-- Vendor CSS Files -->
  <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/aos/aos.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/fontawesome-free/css/all.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="{% static 'assets/css/main.css' %}" rel="stylesheet">


</head>

<body class="index-page">

  <header id="header" class="header d-flex align-items-center sticky-top" style="background-color: navy">
  <div class="container position-relative d-flex align-items-center">

    <a href="{% url 'admin_dashboard' %}" class="logo d-flex align-items-center me-auto">
      <h1 id="title" class="text-white">SirBrams Tech Virtual Campus</h1>
    </a>

    <a class="me-5 text-white" href="{% url 'records' %}">Records</a>

    <nav id="navmenu" class="navmenu text-white me-5">
      <ul></ul>
      <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
    </nav>

    <div class="d-flex justify-content-end align-items-center">
    <div class="dropdown">
        <img src="{% if admininfo.profile_image %}{{ admininfo.profile_image.url }}{% else %}{% static 'assets/img/profile.jpeg' %}{% endif %}"
            alt="Profile" class="rounded-circle" style="cursor: pointer; width: 50px; height: 50px; object-fit: cover;"
            id="profileMenu" data-bs-toggle="dropdown">

        <p class="text-white pt-2" style="font-size: 14px; margin: 0;" id="greeting">{{ admininfo.username }}</p>

        <ul class="dropdown-menu dropdown-menu-end me-0 mt-2 shadow-lg rounded-4 border border-warning" aria-labelledby="profileMenu">
            <li><a class="dropdown-item text-dark" href="#admin-info" style="font-size: 14px; padding: 10px 20px; transition: background-color 0.3s;">Profile</a></li>
            <li><a class="dropdown-item text-dark" href="#" style="font-size: 14px; padding: 10px 20px; transition: background-color 0.3s;">Settings</a></li>
            <li>
    <a class="dropdown-item text-danger" href="{% url 'logout_mentor' %}" style="font-size: 14px; padding: 10px 20px; transition: background-color 0.3s;" data-bs-toggle="modal" data-bs-target="#logoutModal">Logout</a>
</li>
        </ul>
    </div>
</div>


  </div>
  <div class="text-white ms-auto" id="current-time" style="font-size: 18px;"></div>
</header>


    <div class="row ">
    <!-- Profile Section -->
    <div class="col-md-3" style="; position: fixed ; ">
        <div class="list-group bg-light">
          <h3 class="p-3">Dashboard</h3>
          <a href="{% url 'add_courses' %}" class="list-group-item list-group-item-action">Manage Courses</a>
          <a href="{% url 'records' %}" class="list-group-item list-group-item-action">Student Records</a>
          <a href="{% url 'add_cours' %}" class="list-group-item list-group-item-action">Assignments</a>
          <a href="#" class="list-group-item list-group-item-action">Reports</a>
          <a href="#" class="list-group-item list-group-item-action">Messages</a>
          <a class="dropdown-item text-danger" href="{% url 'logout_mentor' %}" style="font-size: 14px; padding: 10px 20px; transition: background-color 0.3s;" data-bs-toggle="modal" data-bs-target="#logoutModal">Logout</a>

        </div>
    </div>

      <div class="col-md-9 offset-md-3 ">
        <div class="row">
          <div class="col-md-12">
            <div class="mt-3"><h2 > Welcome to the Mentor/Admin Dashboard</h2></div>
              <br>
          </div>
          <!-- Admin Tools -->
          <div class="col-md-4 text-center mt-3">
            <div class="card bg-light">
              <div class="card-body">
                <h5 class="card-title">Manage Courses</h5>
                <p class="card-text">Add, edit, or delete courses.</p>
                <a href="{% url 'add_courses' %}" class="btn btn-primary">Manage</a>
              </div>
            </div>
          </div>
          <div class="col-md-4 text-center mt-3">
            <div class="card bg-light">
              <div class="card-body">
                <h5 class="card-title">Student Records</h5>
                <p class="card-text">View and manage student details.</p>
                <a href="{% url 'records' %}" class="btn btn-primary">View Records</a>
              </div>
            </div>
          </div>
          <div class="col-md-4 text-center mt-3">
            <div class="card bg-light">
              <div class="card-body">
                <h5 class="card-title">Generate Reports</h5>
                <p class="card-text">Access detailed reports for analysis.</p>
                <a  href="{% url 'generate_pdf' %}" class="btn btn-primary">View Reports</a>
              </div>
            </div>
          </div>
          <!-- Notifications -->
          <div class="col-md-12 mt-4">
            <h5>Recent Notifications</h5>
            <ul class="list-group">
              <li class="list-group-item">New student enrolled in "Web Development".</li>
              <li class="list-group-item">Assignment submissions due in 3 days.</li>
              <li class="list-group-item">Scheduled maintenance tomorrow from 2 PM.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  <br>

 <div class="mt-2" id="admin-info" style="margin-left: 25%; margin-right: 20px">
    <h3 class="text-center text-info">Admin Information</h3>
    <table class="table table-bordered table-striped">
        <thead class="bg-primary text-white">
            <tr>
                <th>Field</th>
                <th>Value</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Profile</td>
                <td>
                    {% if admininfo.profile_image %}
                        <img src="{{ admininfo.profile_image.url }}" alt="Profile Picture" class="img-fluid rectangle" style="width: 80px; height: 80px;">
                    {% else %}
                        {% load static %}
                        <img src="{% static 'assets/img/profile.jpeg' %}" alt="Default Profile" class="img-fluid rounded-circle" style="width: 80px; height: 80px;">
                    {% endif %}
                </td>
            </tr>
            <tr>
                <td>Name</td>
                <td>{{ admininfo.name }}</td>
            </tr>
            <tr>
                <td>Username</td>
                <td>{{ admininfo.username }}</td>
            </tr>
            <tr>
                <td>Phone No</td>
                <td>{{ admininfo.phone }}</td>
            </tr>
            <tr>
                <td>Id No</td>
                <td>{{ admininfo.id_number }}</td>
            </tr>
            <tr>
                <td>Email</td>
                <td>{{ admininfo.email }}</td>
            </tr>
            <tr>
                <td>Date Of Birth</td>
                <td>{{ admininfo.date_of_birth }}</td>
            </tr>
            <tr>
                <td>Gender</td>
                <td>{{ admininfo.gender }}</td>
            </tr>
        </tbody>
    </table>
    {% if admininfo and admininfo.id %}
    <a href="{% url 'profile_update' admininfo.id %}" class="btn btn-primary" style="margin-left: 50%">EDIT PROFILE</a>
    {% else %}
    <p class="text-warning">Admin profile not found.</p>
    {% endif %}
</div>

  <footer id="footer" class="footer " style="background-color:navy;">


    <div class="container copyright text-center mt-4">
      <p>Â© <span>Copyright</span> <strong class="#">SirBrams Tech Virtual Campus</strong> <span>All Rights Reserved</span></p>
      <div class="credits">
      </div>
    </div>

<div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="logoutModalLabel">Confirm Logout</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center text-danger">
                Are you sure you want to log out?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <a href="{% url 'logout_mentor' %}" class="btn btn-danger">Yes, Logout</a>
            </div>
        </div>
    </div>
  </footer>

  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

 <!-- Vendor JS Files -->
  <script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'assets/vendor/php-email-form/validate.js' %}"></script>
  <script src="{% static 'assets/vendor/aos/aos.js' %}"></script>
  <script src="{% static 'assets/vendor/glightbox/js/glightbox.min.js' %}"></script>
  <script src="{% static 'assets/vendor/purecounter/purecounter_vanilla.js' %}"></script>
  <script src="{% static 'assets/vendor/swiper/swiper-bundle.min.js' %}"></script>

  <!-- Main JS File -->
  <script src="{% static 'assets/js/main.js' %}"></script>

<script>

    function updateCurrentTime() {
  const now = new Date();
  const hours = now.getHours().toString().padStart(2, '0'); // Adds leading zero if single digit
  const minutes = now.getMinutes().toString().padStart(2, '0');
  const seconds = now.getSeconds().toString().padStart(2, '0');

  const timeString = `${hours}:${minutes}:${seconds}`;

  document.getElementById("current-time").textContent = timeString;
}

updateCurrentTime(); // Call function on page load
setInterval(updateCurrentTime, 1000); // Update every second

    function updateGreeting() {
        let now = new Date();
        let hours = now.getHours();
        let greeting = "{{ admininfo.username }}";

        if (hours >= 5 && hours < 12) {
            greeting = "Good morning! {{ admininfo.username }}";
        } else if (hours >= 12 && hours < 17) {
            greeting = "Good afternoon! {{ admininfo.username }}";
        } else if (hours >= 17 && hours < 21) {
            greeting = "Good evening! {{ admininfo.username }}";
        } else {
            greeting = "Good night! {{ admininfo.username }}";
        }

        document.getElementById("greeting").textContent = greeting;
    }

    updateGreeting(); // Call function on page load
    setInterval(updateGreeting, 60000);


</script>

</body>

</html>

